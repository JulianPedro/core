<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="icon" href="/favicon.ico" />
    <script>
        setInterval(async () => {
            try {
                const result = await fetch('/manager-api/ping');
                if (result.status !== 200) {
                    throw new Error("Ping failed");
                }
                const data = await result.json();
                if (!data.version) {
                    throw new Error("Ping failed");
                }
                window.location.reload();
            } catch {
                // Do nothing
            }
        }, 2000);
    </script>

    <title>Citadel OS</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f5f5f5;
        }

        img {
            height: 12rem;
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #fff;
            }

            a {
                color: #fff;
            }
        }

        .progress {
            width: 100%;
            height: 1rem;
            background-color: #f5f5f5;
            border-radius: 0.25rem;
            overflow: hidden;
        }
    </style>
  </head>
  <body>
    <img class="rotate" src="/logo.svg" alt="Citadel logo" />
    <h1>Citadel is being set up...</h1>
    <p><progress /></p>
    <p>
      Thank you for installing Citadel! We are preparing a few things, please be
      patient and do not refresh this page.
    </p>
    <p>
      Your node seems stuck? Contact us on
      <a href="t.me/runcitadel">Telegram</a> or
      <a href="https://twitter.com/runcitadel">Twitter</a>. You can also send us
      an email at
      <a href="mailto:support@runcitadel.space">support@runcitadel.space</a>
    </p>
  </body>
</html>
